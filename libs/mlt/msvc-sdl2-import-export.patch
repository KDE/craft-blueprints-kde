diff --git a/src/modules/sdl2/consumer_sdl2.c b/src/modules/sdl2/consumer_sdl2.c
index 6befb4c8..1e02e662 100644
--- a/src/modules/sdl2/consumer_sdl2.c
+++ b/src/modules/sdl2/consumer_sdl2.c
@@ -35,7 +35,7 @@
 
 #undef MLT_IMAGE_FORMAT // only yuv422 working currently
 
-extern pthread_mutex_t mlt_sdl_mutex;
+__declspec(dllimport) extern pthread_mutex_t mlt_sdl_mutex;
 
 /** This classes definition.
 */
diff --git a/src/modules/sdl2/consumer_sdl2_audio.c b/src/modules/sdl2/consumer_sdl2_audio.c
index 523daf32..87d7385b 100644
--- a/src/modules/sdl2/consumer_sdl2_audio.c
+++ b/src/modules/sdl2/consumer_sdl2_audio.c
@@ -33,7 +33,7 @@
 #include <string.h>
 #include <sys/time.h>
 
-extern pthread_mutex_t mlt_sdl_mutex;
+__declspec(dllimport) extern pthread_mutex_t mlt_sdl_mutex;
 
 /** This classes definition.
 */
diff --git a/src/framework/mlt_repository.h b/src/framework/mlt_repository.h
index 25631c19..0ef6f35f 100644
--- a/src/framework/mlt_repository.h
+++ b/src/framework/mlt_repository.h
@@ -50,7 +50,7 @@ typedef mlt_properties (*mlt_metadata_callback)(mlt_service_type,
                                                 void * /* callback_data */);
 
 /** A convenience macro to create an entry point for service registration. */
-#define MLT_REPOSITORY void mlt_register(mlt_repository repository)
+#define MLT_REPOSITORY __declspec(dllexport) void mlt_register(mlt_repository repository)
 
 /** A convenience macro to a register service in a more declarative manner. */
 #define MLT_REGISTER(type, service, symbol) \
